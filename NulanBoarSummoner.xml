<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on Sunday, March 15, 2020, 1:54 PM -->
<!-- MuClient version 5.07-pre -->

<!-- Plugin "NulanBoarSummoner" generated by Plugin Wizard -->

<muclient>
<plugin
   name="NulanBoarSummoner"
   author="Pringle"
   id="e62c04f958a02cd67ef4ebc3"
   language="Lua"
   purpose="To quickly summon any hiding Nulan'Boar mobs"
   save_state="y"
   date_written="2020-03-15 13:52:17"
   requires="5.07"
   version="1.2"
   >
<description trim="y">
<![CDATA[
Plugin by Pringle with assistance from Zafrusteria and Crowley

Requires the mapper plugin enabled, the Nulan'Boar goal
completed, and cexits to the Nulan'Boar master's area set
up.

If your mob target is currently hiding, type nulan plus the
mob's full name minus the a/an at the start to summon it.
IE "nulan dull robin" but not "nulan a dull robin"
Partial names do not match as there are many mobs with
similar keywords.

You will need the following items from Nulan'Boar placed in
a bag and not flagged kept:

(M) fur of a prairie dog (1)
(M) badger fur (1)
(M) a songbird feather (1)
(M) an eagle feather (1)
(M) Wolf tooth (1)
(M) tail of a deer mouse (1)
(M) a feather of a grouse (1)
(M) a white owl feather (1)

If you are missing any, simply keep killing mobs in the
area until they drop. Tokens can drop from any mob.
Designate your bag by typing "nulanbag <bag id>"
]]>
</description>

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Aliases  -->

<aliases>
  <alias
   match="^nulan$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>ColourNote("red", "", "nulan &lt;mob name&gt; -- Summon this mob that is hiding in Nulan'Boar.")
  ColourNote("red", "", "")
  ColourNote("red", "", "nulanbag &lt;bag id&gt; -- Set the bag ID that your summoning tokens are stored in.")
  ColourNote("red", "", "Current bag ID: "..GetVariable("nulan_bag_id"))
  </send>
  </alias>
  <alias
   match="^nulanbag\s+(\d+)\s*$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>SetVariable("nulan_bag_id", "%1")
print("Nulan\'Boar bag ID set to "..GetVariable("nulan_bag_id"))</send>
  </alias>
  <alias
   match="^nulan ([\s\w\-]+)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>bag = GetVariable("nulan_bag_id")
target = "%1"
validtarget = 1

if bag == IsEmpty then ColourNote("red", "", "No Bag ID has been set. Please use nulanbag &lt;yourbag id&gt;") validtarget = 2
elseif target == "grumpy badger" then token = "token badger fur" tokennum = "1"
elseif target == "colorful robin" then token = "token songbird feather" tokennum = "1"
elseif target == "eating finch" then token = "token songbird feather" tokennum = "2"
elseif target == "dull robin" then token = "token songbird feather" tokennum = "3"
elseif target == "finch" then token = "token songbird feather" tokennum = "4"
elseif target == "booted eagle" then token = "token eagle feather" tokennum = "1"
elseif target == "solitary eagle" then token = "token eagle feather" tokennum = "2"
elseif target == "eagle" then token = "token eagle feather" tokennum = "3"
elseif target == "wolf pup" then token = "token wolf tooth" tokennum = "1"
elseif target == "spotted grey wolf" then token = "token wolf tooth" tokennum = "2"
elseif target == "pure white wolf" then token = "token wolf tooth" tokennum = "3"
elseif target == "grey wolf" then token = "token wolf tooth" tokennum = "4"
elseif target == "black wolf" then token = "token wolf tooth" tokennum = "5"
elseif target == "male alpha wolf" then token = "token wolf tooth" tokennum = "6"
elseif target == "female alpha wolf" then token = "token wolf tooth" tokennum = "7"
elseif target == "prairie dog puppy" then token = "prairie dog fur token" tokennum = "1"
elseif target == "alert prairie dog" then token = "prairie dog fur token" tokennum = "2"
elseif target == "playful prairie dog" then token = "prairie dog fur token" tokennum = "3"
elseif target == "playful prairie dog puppy" then token = "prairie dog fur token" tokennum = "4"
elseif target == "hungry prairie dog" then token = "prairie dog fur token" tokennum = "5"
elseif target == "prairie dog" then token = "prairie dog fur token" tokennum = "6"
elseif target == "brown deer mouse" then token = "token deer mouse tail" tokennum = "1"
elseif target == "timid deer mouse" then token = "token deer mouse tail" tokennum = "2"
elseif target == "adorable deer mouse" then token = "token deer mouse tail" tokennum = "3"
elseif target == "shy deer mouse" then token = "token deer mouse tail" tokennum = "4"
elseif target == "angry deer mouse" then token = "token deer mouse tail" tokennum = "5"
elseif target == "male sharp-tailed grouse" then token = "token grouse feather" tokennum = "1"
elseif target == "female sharp-tailed grouse" then token = "token grouse feather" tokennum = "2"
elseif target == "male horned owl" then token = "token owl feather" tokennum = "1"
elseif target == "hunting horned owl" then token = "token owl feather" tokennum = "2"
elseif target == "female horned owl" then token = "token owl feather" tokennum = "3"
elseif target == "lonely horned owl" then token = "token owl feather" tokennum = "4"
else validtarget = 0 end

if validtarget == 1 then 
Execute("mapper goto 38000")
Send("get \'" .. token .. "\' " .. bag)
Send("give \'" .. token .. "\' master")
Send("say " .. tokennum)
Send("put \'" .. token .. "\' " .. bag)
elseif validtarget == 0 then print([[That is not a valid target. Valid targets are:

grumpy badger
colorful robin
eating finch
dull robin
finch
booted eagle
solitary eagle
eagle
wolf pup
spotted grey wolf
pure white wolf
grey wolf
black wolf
male alpha wolf
female alpha wolf
prairie dog puppy
alert prairie dog
playful prairie dog
playful prairie dog puppy
hungry prairie dog
prairie dog
brown deer mouse
timid deer mouse
adorable deer mouse
shy deer mouse
angry deer mouse
male sharp-tailed grouse
female sharp-tailed grouse
male horned owl
hunting horned owl
female horned owl
lonely horned owl

Syntax must match exactly.]])
end</send>
  </alias>
</aliases>

<!--  Variables  -->

<variables>
  <variable name="nulan_bag_id"></variable>
</variables>

<!--  Plugin help  -->

<aliases>
  <alias
   script="OnHelp"
   match="NulanBoarSummoner:help"
   enabled="y"
  >
  </alias>
</aliases>

<script>
<![CDATA[
function OnHelp ()
  world.Note (world.GetPluginInfo (world.GetPluginID (), 3))
end
]]>
</script> 

</muclient>
